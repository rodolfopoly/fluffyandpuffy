{"ast":null,"code":"var _jsxFileName = \"/Users/rodolfopoly/fluffyandpuffy/client/src/components/ProductItem/index.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { pluralize } from \"../../utils/helpers\";\nimport { useStoreContext } from \"../../utils/GlobalState\";\nimport { ADD_TO_CART, UPDATE_CART_QUANTITY } from \"../../utils/actions\";\nimport { idbPromise } from \"../../utils/helpers\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ProductItem(item) {\n  _s();\n\n  const [state, dispatch] = useStoreContext();\n  const {\n    image,\n    name,\n    _id,\n    price\n  } = item;\n  const {\n    cart\n  } = state;\n\n  const addToCart = () => {\n    const itemInCart = cart.find(cartItem => cartItem._id === _id);\n\n    if (itemInCart) {\n      dispatch({\n        type: UPDATE_CART_QUANTITY,\n        _id: _id,\n        purchaseQuantity: parseInt(itemInCart.purchaseQuantity) + 1\n      });\n      idbPromise('cart', 'put', { ...itemInCart,\n        purchaseQuantity: parseInt(itemInCart.purchaseQuantity) + 1\n      });\n    } else {\n      dispatch({\n        type: ADD_TO_CART,\n        product: { ...item,\n          purchaseQuantity: 1\n        }\n      });\n      idbPromise('cart', 'put', { ...item,\n        purchaseQuantity: 1\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    class: \"w-full max-w-sm bg-white rounded-lg shadow-md dark:bg-gray-800 dark:border-gray-700\",\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: `/products/${_id}`,\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        class: \"p-8 rounded-t-lg\",\n        src: `/images/${image}`,\n        alt: \"product image\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"px-5 pb-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"#\",\n        children: /*#__PURE__*/_jsxDEV(\"h5\", {\n          class: \"text-xl font-semibold tracking-tight text-gray-900 dark:text-white\",\n          children: name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          class: \"text-3xl font-bold text-gray-900 dark:text-white\",\n          children: [\"$\", price]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: addToCart,\n          class: \"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800\",\n          children: \"Add to cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ProductItem, \"qZ9GHftpIX86+oMFVfpp6r+956w=\", false, function () {\n  return [useStoreContext];\n});\n\n_c = ProductItem;\nexport default ProductItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductItem\");","map":{"version":3,"names":["React","Link","pluralize","useStoreContext","ADD_TO_CART","UPDATE_CART_QUANTITY","idbPromise","ProductItem","item","state","dispatch","image","name","_id","price","cart","addToCart","itemInCart","find","cartItem","type","purchaseQuantity","parseInt","product"],"sources":["/Users/rodolfopoly/fluffyandpuffy/client/src/components/ProductItem/index.js"],"sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { pluralize } from \"../../utils/helpers\"\nimport { useStoreContext } from \"../../utils/GlobalState\";\nimport { ADD_TO_CART, UPDATE_CART_QUANTITY } from \"../../utils/actions\";\nimport { idbPromise } from \"../../utils/helpers\";\n\nfunction ProductItem(item) {\n  const [state, dispatch] = useStoreContext();\n\n  const {\n    image,\n    name,\n    _id,\n    price,\n  } = item;\n\n  const { cart } = state\n\n  const addToCart = () => {\n    const itemInCart = cart.find((cartItem) => cartItem._id === _id)\n    if (itemInCart) {\n      dispatch({\n        type: UPDATE_CART_QUANTITY,\n        _id: _id,\n        purchaseQuantity: parseInt(itemInCart.purchaseQuantity) + 1\n      });\n      idbPromise('cart', 'put', {\n        ...itemInCart,\n        purchaseQuantity: parseInt(itemInCart.purchaseQuantity) + 1\n      });\n    } else {\n      dispatch({\n        type: ADD_TO_CART,\n        product: { ...item, purchaseQuantity: 1 }\n      });\n      idbPromise('cart', 'put', { ...item, purchaseQuantity: 1 });\n    }\n  }\n\n  return (\n    <div class=\"w-full max-w-sm bg-white rounded-lg shadow-md dark:bg-gray-800 dark:border-gray-700\">\n      <Link to={`/products/${_id}`}>\n        <img class=\"p-8 rounded-t-lg\" src={`/images/${image}`} alt=\"product image\"/>\n      </Link>\n      <div class=\"px-5 pb-5\">\n        <a href=\"#\">\n          <h5 class=\"text-xl font-semibold tracking-tight text-gray-900 dark:text-white\">{name}</h5>\n        </a>\n        <div class=\"flex justify-between items-center\">\n          <span class=\"text-3xl font-bold text-gray-900 dark:text-white\">${price}</span>\n          <button onClick={addToCart} class=\"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800\">Add to cart</button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ProductItem;\n"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,SAAT,QAA0B,qBAA1B;AACA,SAASC,eAAT,QAAgC,yBAAhC;AACA,SAASC,WAAT,EAAsBC,oBAAtB,QAAkD,qBAAlD;AACA,SAASC,UAAT,QAA2B,qBAA3B;;;AAEA,SAASC,WAAT,CAAqBC,IAArB,EAA2B;EAAA;;EACzB,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBP,eAAe,EAAzC;EAEA,MAAM;IACJQ,KADI;IAEJC,IAFI;IAGJC,GAHI;IAIJC;EAJI,IAKFN,IALJ;EAOA,MAAM;IAAEO;EAAF,IAAWN,KAAjB;;EAEA,MAAMO,SAAS,GAAG,MAAM;IACtB,MAAMC,UAAU,GAAGF,IAAI,CAACG,IAAL,CAAWC,QAAD,IAAcA,QAAQ,CAACN,GAAT,KAAiBA,GAAzC,CAAnB;;IACA,IAAII,UAAJ,EAAgB;MACdP,QAAQ,CAAC;QACPU,IAAI,EAAEf,oBADC;QAEPQ,GAAG,EAAEA,GAFE;QAGPQ,gBAAgB,EAAEC,QAAQ,CAACL,UAAU,CAACI,gBAAZ,CAAR,GAAwC;MAHnD,CAAD,CAAR;MAKAf,UAAU,CAAC,MAAD,EAAS,KAAT,EAAgB,EACxB,GAAGW,UADqB;QAExBI,gBAAgB,EAAEC,QAAQ,CAACL,UAAU,CAACI,gBAAZ,CAAR,GAAwC;MAFlC,CAAhB,CAAV;IAID,CAVD,MAUO;MACLX,QAAQ,CAAC;QACPU,IAAI,EAAEhB,WADC;QAEPmB,OAAO,EAAE,EAAE,GAAGf,IAAL;UAAWa,gBAAgB,EAAE;QAA7B;MAFF,CAAD,CAAR;MAIAf,UAAU,CAAC,MAAD,EAAS,KAAT,EAAgB,EAAE,GAAGE,IAAL;QAAWa,gBAAgB,EAAE;MAA7B,CAAhB,CAAV;IACD;EACF,CAnBD;;EAqBA,oBACE;IAAK,KAAK,EAAC,qFAAX;IAAA,wBACE,QAAC,IAAD;MAAM,EAAE,EAAG,aAAYR,GAAI,EAA3B;MAAA,uBACE;QAAK,KAAK,EAAC,kBAAX;QAA8B,GAAG,EAAG,WAAUF,KAAM,EAApD;QAAuD,GAAG,EAAC;MAA3D;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QADF,eAIE;MAAK,KAAK,EAAC,WAAX;MAAA,wBACE;QAAG,IAAI,EAAC,GAAR;QAAA,uBACE;UAAI,KAAK,EAAC,oEAAV;UAAA,UAAgFC;QAAhF;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA,QADF,eAIE;QAAK,KAAK,EAAC,mCAAX;QAAA,wBACE;UAAM,KAAK,EAAC,kDAAZ;UAAA,gBAAiEE,KAAjE;QAAA;UAAA;UAAA;UAAA;QAAA,QADF,eAEE;UAAQ,OAAO,EAAEE,SAAjB;UAA4B,KAAK,EAAC,sNAAlC;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAFF;MAAA;QAAA;QAAA;QAAA;MAAA,QAJF;IAAA;MAAA;MAAA;MAAA;IAAA,QAJF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAgBD;;GAjDQT,W;UACmBJ,e;;;KADnBI,W;AAmDT,eAAeA,WAAf"},"metadata":{},"sourceType":"module"}